<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Models &mdash; T-RECS 0.1.0b documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metrics" href="metrics.html" />
    <link rel="prev" title="Components" href="components.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> T-RECS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">T-RECS (Tool for RecSys Simulation)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-models.popularity">Popularity Recommender</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.popularity.PopularityRecommender"><code class="docutils literal notranslate"><span class="pre">PopularityRecommender</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.content">Content Filtering Recommender</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.content.ContentFiltering"><code class="docutils literal notranslate"><span class="pre">ContentFiltering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.social">Social Filtering Recommender</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.social.SocialFiltering"><code class="docutils literal notranslate"><span class="pre">SocialFiltering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.bass">Bass Diffusion Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.bass.BassModel"><code class="docutils literal notranslate"><span class="pre">BassModel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.bass.InfectionState"><code class="docutils literal notranslate"><span class="pre">InfectionState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.bass.InfectionThresholds"><code class="docutils literal notranslate"><span class="pre">InfectionThresholds</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.recommender">BaseRecommender</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.recommender.BaseRecommender"><code class="docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.html">Random Generators</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">T-RECS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="reference.html">Reference</a> &raquo;</li>
      <li>Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/models.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this heading"></a></h1>
<section id="module-models.popularity">
<span id="popularity-recommender"></span><h2>Popularity Recommender<a class="headerlink" href="#module-models.popularity" title="Permalink to this heading"></a></h2>
<p>The popularity-based recommender system recommends the same items to all users,
ranked from greatest to least in terms of popularity (i.e., how many interactions
each item has received).</p>
<dl class="py class">
<dt class="sig sig-object py" id="models.popularity.PopularityRecommender">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.popularity.</span></span><span class="sig-name descname"><span class="pre">PopularityRecommender</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_users</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/popularity.html#PopularityRecommender"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.popularity.PopularityRecommender" title="Permalink to this definition"></a></dt>
<dd><p>A customizable popularity recommendation system.</p>
<p>With the popularity recommender system, users are presented items that are
popular in the system. The popularity of an item is measured by the number
of times users interacted with that item in the past. In this
implementation, items do not expire and, therefore, the system does not base
its choice on how recent the items are.</p>
<p>Item attributes are represented by a <span class="math notranslate nohighlight">\(1\times|I|\)</span> array, where
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. This array stores the
number of user interactions for each item.</p>
<p>User profiles are represented by a <span class="math notranslate nohighlight">\(|U|\times 1\)</span> matrix, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system. All elements of this matrix
are equal to 1, as the predictions of the system are solely based on the
item attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 100</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 1250</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix representing the similarity between
each item and attribute. If this is not None, <cite>num_items</cite> is ignored.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix representing the similarity between
each item and attribute, as interpreted by the system. If this is not
None, <cite>num_users</cite> is ignored.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a>, optional) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user
profiles, where <span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real
underlying user profile, or a <cite>Users</cite> object that contains the real
user profiles or real user-item scores. This matrix is <strong>not</strong> used
for recommendations. This is only kept for measurements and the
system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying item profile.
This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, enables verbose mode. Disabled by default.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 10</em>) – Number of items presented to the user per iteration.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Inherited</span> <span class="pre">from</span> <span class="pre">BaseRecommender</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>PopularityRecommender can be instantiated with no arguments – in which
case, it will be initialized with the default parameters.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1)   # &lt;-- 100 users (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 1250) # &lt;-- 1250 items (default)</span>
</pre></div>
</div>
<p>This class can be customized by defining the number of users and/or items
in the system.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 1) # &lt;-- 1200 users</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 5000)</span>
</pre></div>
</div>
<p>Or by generating representations for items (user representation can
also be defined, but they should always be set to all ones). In the
example below, items are uniformly distributed and have had between 0
and 10 interactions each.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item_representation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">(</span><span class="n">item_representation</span><span class="o">=</span><span class="n">item_representation</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1)</span>
</pre></div>
</div>
<p>Note that all arguments passed in at initialization must be consistent -
otherwise, an error is thrown. For example, one cannot pass in
<code class="docutils literal notranslate"><span class="pre">num_users=200</span></code> but have <code class="docutils literal notranslate"><span class="pre">user_representation.shape</span></code> be <cite>(300, 1)</cite>.
Likewise, one cannot pass in <code class="docutils literal notranslate"><span class="pre">num_items=1000</span></code> but have
<code class="docutils literal notranslate"><span class="pre">item_representation.shape</span></code> be <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">500)</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="models.popularity.PopularityRecommender.process_new_items">
<span class="sig-name descname"><span class="pre">process_new_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/popularity.html#PopularityRecommender.process_new_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.popularity.PopularityRecommender.process_new_items" title="Permalink to this definition"></a></dt>
<dd><p>The popularity of any new items is always zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_items</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array of items that represents new items that are being
added into the system. Should be of dimension <span class="math notranslate nohighlight">\(|A|\times|I|\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.popularity.PopularityRecommender.process_new_users">
<span class="sig-name descname"><span class="pre">process_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/popularity.html#PopularityRecommender.process_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.popularity.PopularityRecommender.process_new_users" title="Permalink to this definition"></a></dt>
<dd><p>New users are always represented with the digit 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_users</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array of users that represents new users that are being
added into the system. Should be of dimension <span class="math notranslate nohighlight">\(|U|\times|A|\)</span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-models.content">
<span id="content-filtering-recommender"></span><h2>Content Filtering Recommender<a class="headerlink" href="#module-models.content" title="Permalink to this heading"></a></h2>
<p>The content filtering recommender system attempts to match users to items
based on highest predicted inner product between the predicted user profile
and predicted item profile. The predictions of user and item profiles
are generated iteratively as users interact with items.</p>
<dl class="py class">
<dt class="sig sig-object py" id="models.content.ContentFiltering">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.content.</span></span><span class="sig-name descname"><span class="pre">ContentFiltering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_users</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probabilistic_recommendations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/content.html#ContentFiltering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.content.ContentFiltering" title="Permalink to this definition"></a></dt>
<dd><p>A customizable content-filtering recommendation system.</p>
<p>With content filtering, items and users are represented by a set of
attributes A. This class assumes that the attributes used for items and
users are the same. The recommendation system matches users to items with
similar attributes.</p>
<p>Item attributes are represented by a <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. For each item, we define
the similarity to each attribute.</p>
<p>User profiles are represented by a <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system. For each user, we define
the similarity to each attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 100</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 1250</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>num_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 1000</em>) – The number of attributes <span class="math notranslate nohighlight">\(|A|\)</span> in the system.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix representing the similarity between
each item and attribute, as interpreted by the system.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix representing the similarity between
each item and attribute.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a>, optional) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying user profile,
or a <cite>Users</cite> object that contains the real user profiles or real
user-item scores. This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying item profile.
This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 10</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Inherited</span> <span class="pre">from</span> <span class="pre">BaseRecommender</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>ContentFiltering can be instantiated with no arguments – in which case,
it will be initialized with the default parameters and the item/user
representations will be assigned randomly.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1000)   # &lt;-- 100 users (default), 1000 attributes (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1000, 1250) # &lt;-- 1000 attributes (default), 1250 items (default)</span>
</pre></div>
</div>
<p>This class can be customized either by defining the number of users/items/attributes
in the system.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 1000) # &lt;-- 1200 users, 1000 attributes</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">num_attributes</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 2000) # &lt;-- 1200 users, 2000 attributes</span>
</pre></div>
</div>
<p>Or by generating representations for items and/or users. In the example
below, items are uniformly distributed. We indirectly define 100
attributes by defining the following <code class="docutils literal notranslate"><span class="pre">item_representation</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="go"># Users are represented by a power law distribution.</span>
<span class="go"># This representation also uses 100 attributes.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">power_dist</span> <span class="o">=</span> <span class="n">Distribution</span><span class="p">(</span><span class="n">distr_type</span><span class="o">=</span><span class="s1">&#39;powerlaw&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">users</span> <span class="o">=</span> <span class="n">power_dist</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">1.16</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">item_representation</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">user_representation</span><span class="o">=</span><span class="n">users</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(30, 100)</span>
</pre></div>
</div>
<p>Note that all arguments passed in at initialization must be consistent -
otherwise, an error is thrown. For example, one cannot pass in
<code class="docutils literal notranslate"><span class="pre">num_users=200</span></code> but have <code class="docutils literal notranslate"><span class="pre">user_representation.shape</span></code> be <code class="docutils literal notranslate"><span class="pre">(300,</span> <span class="pre">100)</span></code>.
Likewise, one cannot pass in <code class="docutils literal notranslate"><span class="pre">num_items=1000</span></code> but have
<code class="docutils literal notranslate"><span class="pre">item_representation.shape</span></code> be <code class="docutils literal notranslate"><span class="pre">(100,</span> <span class="pre">500)</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="models.content.ContentFiltering.process_new_items">
<span class="sig-name descname"><span class="pre">process_new_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/content.html#ContentFiltering.process_new_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.content.ContentFiltering.process_new_items" title="Permalink to this definition"></a></dt>
<dd><p>We assume the content filtering system has perfect knowledge
of the new items; therefore, when new items are created,
we simply return the new item attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_items</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array of items that represents new items that are being
added into the system. Should be <span class="math notranslate nohighlight">\(|A|\times|I|\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.content.ContentFiltering.process_new_users">
<span class="sig-name descname"><span class="pre">process_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/content.html#ContentFiltering.process_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.content.ContentFiltering.process_new_users" title="Permalink to this definition"></a></dt>
<dd><p>By default, the content filtering system assumes the predicted user profiles
are zero vectors. (Note that this effectively corresponds to providing
random recommendations to each user).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_users</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array of users that represents new users that are being
added into the system. Should be of dimension <span class="math notranslate nohighlight">\(|U|\times|A|\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.content.ContentFiltering.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/content.html#ContentFiltering.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.content.ContentFiltering.train" title="Permalink to this definition"></a></dt>
<dd><p>Uses the NNLS solver to train the user representations, based on the user
interaction &amp; item attribute data.</p>
<p>Note: this function may run slowly because it requires a manual loop over every
user.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-models.social">
<span id="social-filtering-recommender"></span><h2>Social Filtering Recommender<a class="headerlink" href="#module-models.social" title="Permalink to this heading"></a></h2>
<p>Social filtering recommender system, where users get shown items that were
interacted with by users in their social networks</p>
<dl class="py class">
<dt class="sig sig-object py" id="models.social.SocialFiltering">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.social.</span></span><span class="sig-name descname"><span class="pre">SocialFiltering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_users</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probabilistic_recommendations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/social.html#SocialFiltering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.social.SocialFiltering" title="Permalink to this definition"></a></dt>
<dd><p>A customizable social filtering recommendation system.</p>
<p>With social filtering, users are presented items that were previously
liked by other users in their social networks.</p>
<p>The social network is represented by a <span class="math notranslate nohighlight">\(|U|\times|U|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system. For each pair of users
<span class="math notranslate nohighlight">\(u\)</span> and <span class="math notranslate nohighlight">\(v\)</span>, entry <cite>[u,v]</cite> defines whether <span class="math notranslate nohighlight">\(u\)</span>
“follows”/is connected to <span class="math notranslate nohighlight">\(v\)</span>. This can be a binary relationship or a
score that measures how likely <span class="math notranslate nohighlight">\(u\)</span> is to engage with content that
<span class="math notranslate nohighlight">\(v\)</span> has previously interacted with.</p>
<p>Please note that, in this class, the follow/unfollow and
add_friends/remove_friends methods assume a binary social graph
(see <a class="reference internal" href="components.html#components.socialgraph.BinarySocialGraph" title="components.socialgraph.BinarySocialGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinarySocialGraph</span></code></a>).</p>
<p>Item attributes are represented by a <span class="math notranslate nohighlight">\(|U|\times|I|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. For each item <span class="math notranslate nohighlight">\(i\)</span>
and user <span class="math notranslate nohighlight">\(u\)</span>, we define a score that determines the interactions
<span class="math notranslate nohighlight">\(u\)</span> had with <span class="math notranslate nohighlight">\(i\)</span>. Again, this could just be a binary
relationship.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 100</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 1250</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|U|\times|U|\)</span> adjacency matrix representing each users’
social network. If this is not None, <cite>num_users</cite> is ignored.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|U|\times|I|\)</span> matrix representing the past user interactions.
If this is not None, <cite>num_items</cite> is ignored.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a>, optional) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user
profiles, where <span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real
underlying user profile, or a <cite>Users</cite> object that contains the real
user profiles or real user-item scores. This matrix is <strong>not</strong> used
for recommendations. This is only kept for measurements and the
system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real item profiles,
where <span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying
item profile. This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 10</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Inherited</span> <span class="pre">from</span> <span class="pre">BaseRecommender</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>SocialFiltering can be instantiated with no arguments – in which case,
it will be initialized with the default parameters and the item/user
representation will be initialized to zero. This means that a user
starts with no followers/users they follow, and that there have been no
previous interactions for this set of users.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">SocialFiltering</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 100)   # &lt;-- 100 users (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1250) # &lt;-- 100 users (default), 1250 items (default)</span>
</pre></div>
</div>
<p>This class can be customized either by defining the number of users
and/or items in the system:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">SocialFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 5000) # &lt;-- 1200 users, 5000 items</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(50, 1250) # &lt;-- 50 users, 1250 items (default)</span>
</pre></div>
</div>
<p>Or by generating representations for items and/or users. In the example
below, items are uniformly distributed. We “indirectly” define 100 users
by defining a <cite>100x200</cite> item representation.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item_representation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="go"># Social networks are drawn from a binomial distribution.</span>
<span class="go"># This representation also uses 100 users.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">SocialFiltering</span><span class="p">(</span><span class="n">item_representation</span><span class="o">=</span><span class="n">item_representation</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 100)</span>
</pre></div>
</div>
<p>Note that all arguments passed in at initialization must be consistent -
otherwise, an error is thrown. For example, one cannot pass in
<code class="docutils literal notranslate"><span class="pre">num_users=200</span></code> but have <code class="docutils literal notranslate"><span class="pre">user_representation.shape</span></code> be <code class="docutils literal notranslate"><span class="pre">(200,</span> <span class="pre">500)</span></code> or
<code class="docutils literal notranslate"><span class="pre">(300,</span> <span class="pre">300)</span></code>. Likewise, one cannot pass in <code class="docutils literal notranslate"><span class="pre">num_items=1000</span></code> but have
<code class="docutils literal notranslate"><span class="pre">item_representation.shape</span></code> be <code class="docutils literal notranslate"><span class="pre">(200,</span> <span class="pre">500)</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="models.social.SocialFiltering.process_new_items">
<span class="sig-name descname"><span class="pre">process_new_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/social.html#SocialFiltering.process_new_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.social.SocialFiltering.process_new_items" title="Permalink to this definition"></a></dt>
<dd><p>New items are simply represented as zeros, since they have not received
interactions from any users yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_items</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array of items that represents new items that are being
added into the system. Should be <span class="math notranslate nohighlight">\(|A|\times|I|\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.social.SocialFiltering.process_new_users">
<span class="sig-name descname"><span class="pre">process_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/social.html#SocialFiltering.process_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.social.SocialFiltering.process_new_users" title="Permalink to this definition"></a></dt>
<dd><p>The representation of any new users is always zero. If you
want to add users who have different ties to existing users, you
should modify <cite>items_hat</cite> directly after calling <cite>model.add_users()</cite>.</p>
<blockquote>
<div><dl class="simple">
<dt>new_users: <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></dt><dd><p>An array of users that represents new users that are being
added into the system. Should be of dimension <span class="math notranslate nohighlight">\(|U|\times|A|\)</span></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</section>
<section id="module-models.bass">
<span id="bass-diffusion-model"></span><h2>Bass Diffusion Model<a class="headerlink" href="#module-models.bass" title="Permalink to this heading"></a></h2>
<p>Bass Model for modeling the spread of infection. This can be applied to studying
virality in online communications.</p>
<dl class="py class">
<dt class="sig sig-object py" id="models.bass.BassModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.bass.</span></span><span class="sig-name descname"><span class="pre">BassModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_users</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infection_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infection_thresholds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_user_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_item_representation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measurements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.BassModel" title="Permalink to this definition"></a></dt>
<dd><p>Bass model that, for now, only supports one item at a time.</p>
<p>In this model, individuals are “infected” by an item, and then
infect their susceptible (i.e., not yet “infected”) contacts independently
with a given infection probability. Contacts between users are modeled
with an adjacency graph that is <span class="math notranslate nohighlight">\(|U|\times|U|\)</span>. The model
stores state about which users are infected with <span class="math notranslate nohighlight">\(|U|\times|I|\)</span>
matrix, where <span class="math notranslate nohighlight">\(|I|\)</span> is the number of items (currently, this is
always equal to 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 100</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 1250</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>infection_state</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – Component that tracks infection state, which is a binary (0/1) array with
an element recording whether each user is infected. Should be of
dimension <span class="math notranslate nohighlight">\(|U|\times|I|\)</span>.</p></li>
<li><p><strong>infection_thresholds</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – Component that tracks infection thresholds for each user. Should be of
dimension <span class="math notranslate nohighlight">\(1\times|U|\)</span>.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix representing the similarity between
each item and attribute, as interpreted by the system.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix representing the similarity between
each item and attribute.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a>, optional) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying user profile,
or a <cite>Users</cite> object that contains the real user profiles or real
user-item scores. This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying item profile.
This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 10</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Inherited</span> <span class="pre">from</span> <span class="pre">BaseRecommender</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.bass.BassModel.draw_diffusion_tree">
<span class="sig-name descname"><span class="pre">draw_diffusion_tree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.draw_diffusion_tree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.BassModel.draw_diffusion_tree" title="Permalink to this definition"></a></dt>
<dd><p>Draw diffusion tree using matplotlib</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.bass.BassModel.get_structural_virality">
<span class="sig-name descname"><span class="pre">get_structural_virality</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.get_structural_virality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.BassModel.get_structural_virality" title="Permalink to this definition"></a></dt>
<dd><p>Return the value of the structural virality metric</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.bass.BassModel.infection_probabilities">
<span class="sig-name descname"><span class="pre">infection_probabilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_profiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.infection_probabilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.BassModel.infection_probabilities" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the infection probabilities for each user at the current
timestep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_profiles</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – First factor of the dot product, which should provide a
representation of users.</p></li>
<li><p><strong>item_attributes</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – Second factor of the dot product, which should provide a
representation of items.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.bass.BassModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timesteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'until_completion'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_between_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.BassModel.run" title="Permalink to this definition"></a></dt>
<dd><p>Overrides run method of parent class <code class="xref py py-class docutils literal notranslate"><span class="pre">Recommender</span></code>, so that
<code class="docutils literal notranslate"><span class="pre">repeated_items</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code> in Bass models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Number of timesteps for simulation</p></li>
<li><p><strong>startup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, it runs the simulation in
startup mode (see recommend() and startup_and_train())</p></li>
<li><p><strong>train_between_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, the model is retrained after each step with the
information gathered in the previous step.</p></li>
<li><p><strong>repeated_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, repeated items are allowed in the system – that
is, users can interact with the same item more than once.
Examples of common instances in which this is useful: infection
and network propagation models.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="models.bass.InfectionState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.bass.</span></span><span class="sig-name descname"><span class="pre">InfectionState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infection_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.InfectionState" title="Permalink to this definition"></a></dt>
<dd><p>Component that tracks infection state, which is a binary array with
an element recording whether each user is infected</p>
<dl class="py method">
<dt class="sig sig-object py" id="models.bass.InfectionState.infect_users">
<span class="sig-name descname"><span class="pre">infect_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionState.infect_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.InfectionState.infect_users" title="Permalink to this definition"></a></dt>
<dd><p>Update infection state with users who have become newly infected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.bass.InfectionState.infected_users">
<span class="sig-name descname"><span class="pre">infected_users</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionState.infected_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.InfectionState.infected_users" title="Permalink to this definition"></a></dt>
<dd><p>Return indices of users who are currently infected and not recovered.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>indices</strong> – The first element of the tuple returned is a numpy array with
the row indices (i.e., user indices) of those infected, and the
second element is a numpy array of the column indices (i.e.,
item indices)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.bass.InfectionState.num_infected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_infected</span></span><a class="headerlink" href="#models.bass.InfectionState.num_infected" title="Permalink to this definition"></a></dt>
<dd><p>Return number of infected users.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.bass.InfectionState.recovered_users">
<span class="sig-name descname"><span class="pre">recovered_users</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionState.recovered_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.InfectionState.recovered_users" title="Permalink to this definition"></a></dt>
<dd><p>Return indices of users who have recovered (and are no longer susceptible
to infection).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>indices</strong> – The first element of the tuple returned is a numpy array with
the row indices (i.e., user indices) of those recovered, and the
second element is a numpy array of the column indices (i.e.,
item indices)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="models.bass.InfectionThresholds">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.bass.</span></span><span class="sig-name descname"><span class="pre">InfectionThresholds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infection_thresholds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionThresholds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.bass.InfectionThresholds" title="Permalink to this definition"></a></dt>
<dd><p>Component that tracks infection thresholds, where each user has their own
threshold for infection</p>
</dd></dl>

</section>
<section id="module-models.recommender">
<span id="baserecommender"></span><h2>BaseRecommender<a class="headerlink" href="#module-models.recommender" title="Permalink to this heading"></a></h2>
<p>BaseRecommender, the foundational class for all recommender systems
implementable in our simulation library</p>
<dl class="py class">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.recommender.</span></span><span class="sig-name descname"><span class="pre">BaseRecommender</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">users_hat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items_hat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">users</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_users</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_items_per_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creators=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probabilistic_recommendations=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measurements=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_base_state=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_state=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_fn=&lt;function</span> <span class="pre">inner_product&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interleaving_fn=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender" title="Permalink to this definition"></a></dt>
<dd><p>Abstract class representing a recommender system.</p>
<p>The attributes and methods in this class can be generalized beyond
recommender systems and are currently common to all pre-loaded models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>users_hat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array representing users. The shape and meaning depends on
the implementation of the concrete class.</p></li>
<li><p><strong>items_hat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array representing items. The shape and meaning depends on
the implementation of the concrete class.</p></li>
<li><p><strong>users</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a>) – An array representing real user preferences unknown to the
system. Shape is <span class="math notranslate nohighlight">\(|U| \times |A|\)</span>, where <span class="math notranslate nohighlight">\(|A|\)</span> is the
number of attributes and <span class="math notranslate nohighlight">\(|U|\)</span> is the number of users. When
a <cite>numpy.ndarray</cite> is passed in, we assume this represents the user
<em>scores</em>, not the users’ actual attribute vectors.</p></li>
<li><p><strong>items</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <a class="reference internal" href="components.html#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a>) – An array representing real item attributes unknown to the
system. Shape is <span class="math notranslate nohighlight">\(|A|\times|I|\)</span>, where <span class="math notranslate nohighlight">\(|I|\)</span> is the
number of items and <span class="math notranslate nohighlight">\(|A|\)</span> is the number of attributes.</p></li>
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The number of users in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The number of items in the system.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Number of items presented to the user at each iteration.</p></li>
<li><p><strong>measurements</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of metrics to monitor.</p></li>
<li><p><strong>record_base_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, the system will record at each time step its internal
representation of users profiles and item profiles, as well as the
true user profiles and item profiles. It will also record the
predicted user-item scores at each time step.</p></li>
<li><p><strong>system_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of system state components to monitor.</p></li>
<li><p><strong>score_fn</strong> (<em>callable</em>) – Function that is used to calculate each user’s predicted scores for
each candidate item. The score function should take as input
user_profiles and item_attributes.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, it enables verbose mode.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for random generator used</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.users_hat">
<span class="sig-name descname"><span class="pre">users_hat</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.users_hat" title="Permalink to this definition"></a></dt>
<dd><p>An array representing users, matching user_representation. The
shape and meaning depends on the implementation of the concrete
class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.users.PredictedUserProfiles" title="components.users.PredictedUserProfiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictedUserProfiles</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.items_hat">
<span class="sig-name descname"><span class="pre">items_hat</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.items_hat" title="Permalink to this definition"></a></dt>
<dd><p>An array representing items, matching item_representation. The
shape and meaning depends on the implementation of the concrete
class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.users">
<span class="sig-name descname"><span class="pre">users</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.users" title="Permalink to this definition"></a></dt>
<dd><p>An array representing real user preferences. Shape should be
<span class="math notranslate nohighlight">\(|U| \times |A|\)</span>, and should match items.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.items">
<span class="sig-name descname"><span class="pre">items</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.items" title="Permalink to this definition"></a></dt>
<dd><p>An array representing actual item attributes. Shape should be
<span class="math notranslate nohighlight">\(|A| \times |I|\)</span>, and should match users.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.predicted_scores">
<span class="sig-name descname"><span class="pre">predicted_scores</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.predicted_scores" title="Permalink to this definition"></a></dt>
<dd><p>An array representing the user preferences as perceived by the
system. The shape is always <span class="math notranslate nohighlight">\(|U| \times |I|\)</span>, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system and <span class="math notranslate nohighlight">\(|I|\)</span>
is the number of items in the system. The scores are calculated with
the dot product of <a class="reference internal" href="#models.recommender.BaseRecommender.users_hat" title="models.recommender.BaseRecommender.users_hat"><code class="xref py py-attr docutils literal notranslate"><span class="pre">users_hat</span></code></a> and <a class="reference internal" href="#models.recommender.BaseRecommender.items_hat" title="models.recommender.BaseRecommender.items_hat"><code class="xref py py-attr docutils literal notranslate"><span class="pre">items_hat</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.users.PredictedScores" title="components.users.PredictedScores"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictedScores</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.num_users">
<span class="sig-name descname"><span class="pre">num_users</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.num_users" title="Permalink to this definition"></a></dt>
<dd><p>The number of users in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.num_items">
<span class="sig-name descname"><span class="pre">num_items</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.num_items" title="Permalink to this definition"></a></dt>
<dd><p>The number of items in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.num_items_per_iter">
<span class="sig-name descname"><span class="pre">num_items_per_iter</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.num_items_per_iter" title="Permalink to this definition"></a></dt>
<dd><p>Number of items presented to the user per iteration. If <cite>“all”</cite>, then
the system will serve recommendations from the set of all items in the
system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.probabilistic_recommendations">
<span class="sig-name descname"><span class="pre">probabilistic_recommendations</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.probabilistic_recommendations" title="Permalink to this definition"></a></dt>
<dd><p>When this flag is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the recommendations (excluding
any random interleaving) will be randomized, meaning that items
will be recommended with a probability proportionate to their
predicted score, rather than the top <cite>k</cite> items, as ranked by their
predicted score, being recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a> (optional, default: False)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.random_state">
<span class="sig-name descname"><span class="pre">random_state</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.random_state" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="random.html#trecs.random.generators.Generator" title="trecs.random.generators.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">trecs.random.generators.Generator</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.indices" title="Permalink to this definition"></a></dt>
<dd><p>A <span class="math notranslate nohighlight">\(|U| \times |I|\)</span> array representing the past interactions of each
user. This keeps track of which items each user has interacted
with, so that it won’t be presented to the user again if
<cite>repeated_items</cite> are not allowed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.items_shown">
<span class="sig-name descname"><span class="pre">items_shown</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.items_shown" title="Permalink to this definition"></a></dt>
<dd><p>A <span class="math notranslate nohighlight">\(|U| \times \text{num_items_per_iter}\)</span> array representing the
indices of the items that each user was shown (i.e., their recommendations)
from the most recent timestep.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.interactions">
<span class="sig-name descname"><span class="pre">interactions</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.interactions" title="Permalink to this definition"></a></dt>
<dd><p>A <span class="math notranslate nohighlight">\(|U| \times 1\)</span> array representing the indices of the items
that each user interacted with at the most recent time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.score_fn">
<span class="sig-name descname"><span class="pre">score_fn</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.score_fn" title="Permalink to this definition"></a></dt>
<dd><p>Function that is used to calculate each user’s predicted scores for
each candidate item. The score function should take as input
<code class="docutils literal notranslate"><span class="pre">user_profiles</span></code> and <code class="docutils literal notranslate"><span class="pre">item_attributes</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.interleaving_fn">
<span class="sig-name descname"><span class="pre">interleaving_fn</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.interleaving_fn" title="Permalink to this definition"></a></dt>
<dd><p>Function that is used to determine the indices of items that will be
interleaved into the recommender system’s recommendations. The
interleaving function should take as input an integer <code class="docutils literal notranslate"><span class="pre">k</span></code> (representing
the number of items to be interleaved in every recommendation set) and
a matrix <code class="docutils literal notranslate"><span class="pre">item_indices</span></code> (representing which items are eligible to be
interleaved). The function should return a <span class="math notranslate nohighlight">\(|U|\times k\)</span> matrix
representing the interleaved items for each user.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.actual_item_attributes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">actual_item_attributes</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.actual_item_attributes" title="Permalink to this definition"></a></dt>
<dd><p>Property that is an alias for the matrix representation of
actual item attributes. Returns a matrix of dimension
<span class="math notranslate nohighlight">\(|A^*|\times|I|\)</span>, where <span class="math notranslate nohighlight">\(|A^*|\)</span> is the number
of attributes the “true” item representation has.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.actual_user_item_scores">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">actual_user_item_scores</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.actual_user_item_scores" title="Permalink to this definition"></a></dt>
<dd><p>Property that is an alias for the matrix representation of
the true user-item score matrix. Returns a matrix of
dimension <span class="math notranslate nohighlight">\(|U|\times|I|\)</span>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.actual_user_profiles">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">actual_user_profiles</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.actual_user_profiles" title="Permalink to this definition"></a></dt>
<dd><p>Property that is an alias for the matrix representation of
true user profiles. Returns a matrix of dimension
<span class="math notranslate nohighlight">\(|U|\times|A^*|\)</span>, where <span class="math notranslate nohighlight">\(|A^*|\)</span> is the number
of attributes the “true” item/user representation has.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.add_new_item_indices">
<span class="sig-name descname"><span class="pre">add_new_item_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.add_new_item_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.add_new_item_indices" title="Permalink to this definition"></a></dt>
<dd><p>Expands the indices matrix to include entries for new items that
were created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>int</strong><strong>)</strong> (<em>num_new_items</em>) – </p></li>
<li><p><strong>iteration</strong> (<em>in this</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.add_new_user_indices">
<span class="sig-name descname"><span class="pre">add_new_user_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_new_users</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.add_new_user_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.add_new_user_indices" title="Permalink to this definition"></a></dt>
<dd><p>Expands the indices matrix to include entries for new users that
were created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>int</strong><strong>)</strong> (<em>num_new_users</em>) – </p></li>
<li><p><strong>iteration</strong> (<em>in this</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.add_users">
<span class="sig-name descname"><span class="pre">add_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.add_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.add_users" title="Permalink to this definition"></a></dt>
<dd><p>Create pool of new users</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_users</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array representing users. Should be of dimension
<span class="math notranslate nohighlight">\(|U_n| \times |A|\)</span>, where <span class="math notranslate nohighlight">\(|U_n|\)</span> represents
the number of new users, and <span class="math notranslate nohighlight">\(|A|\)</span> represents
the number of attributes for each user profile.</p></li>
<li><p><strong>**kwargs</strong> – Any additional information about users
can be passed through <cite>kwargs</cite> (see <cite>social.py</cite>) for
an example.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.choose_interleaved_items">
<span class="sig-name descname"><span class="pre">choose_interleaved_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.choose_interleaved_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.choose_interleaved_items" title="Permalink to this definition"></a></dt>
<dd><p>Chooses k items out of the item set to “interleave” into
the system’s recommendations. In this case, we define “interleaving”
as a process by which items can be inserted into the set of items
shown to the user, in addition to the recommended items that
maximize the predicted score. For example, users may want to insert
random interleaved items to increase the “exploration” of the
recommender system, or may want to ensure that new items are always
interleaved into the item set shown to users.
<strong>NOTE</strong>: Currently, there
is no guarantee that items that are interleaved are distinct
from the recommended items. We do guarantee that within the
set of items interleaved for a particular user, there are no
repeats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Number of items that should be interleaved in the
recommendation set for each user.</p></li>
<li><p><strong>item_indices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Array that contains the valid item indices for each user;
that is, the indices of items that they have not yet
interacted with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>interleaved_items</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.create_and_process_items">
<span class="sig-name descname"><span class="pre">create_and_process_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.create_and_process_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.create_and_process_items" title="Permalink to this definition"></a></dt>
<dd><p>Creates and processes items made by content creators</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.generate_recommendations">
<span class="sig-name descname"><span class="pre">generate_recommendations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.generate_recommendations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.generate_recommendations" title="Permalink to this definition"></a></dt>
<dd><p>Generate recommendations for each user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 1</em>) – Number of items to recommend.</p></li>
<li><p><strong>item_indices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, optional) – A matrix containing the indices of the items each user has not yet
interacted with. It is used to ensure that the user is presented
with items they have not already interacted with. If <cite>None</cite>,
then the user may be recommended items that they have already
interacted with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Recommendations</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.get_measurements">
<span class="sig-name descname"><span class="pre">get_measurements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.get_measurements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.get_measurements" title="Permalink to this definition"></a></dt>
<dd><p>Returns all available measurements. For more details, please see the
<a class="reference internal" href="metrics.html#metrics.measurement.Measurement" title="metrics.measurement.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Measurement</span></code></a> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Monitored measurements</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.get_system_state">
<span class="sig-name descname"><span class="pre">get_system_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.get_system_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.get_system_state" title="Permalink to this definition"></a></dt>
<dd><p>Return history of system state components stored in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">state_history</span></code> of the
components stored in <a class="reference internal" href="components.html#base.base_components.SystemStateModule._system_state" title="base.base_components.SystemStateModule._system_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SystemStateModule._system_state</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>System state</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.initialize_user_scores">
<span class="sig-name descname"><span class="pre">initialize_user_scores</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.initialize_user_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.initialize_user_scores" title="Permalink to this definition"></a></dt>
<dd><p>If the Users object does not already have known user-item scores,
then we calculate these scores.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.predicted_item_attributes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predicted_item_attributes</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.predicted_item_attributes" title="Permalink to this definition"></a></dt>
<dd><p>Property that is an alias for the matrix representation of
predicted item attributes. Returns a matrix of dimension
<span class="math notranslate nohighlight">\(|\hat{A}|\times|I|\)</span>,  where <span class="math notranslate nohighlight">\(|\hat{A}|\)</span> is the
number of attributes that the algorithm uses to represent each
item and user.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.predicted_user_item_scores">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predicted_user_item_scores</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.predicted_user_item_scores" title="Permalink to this definition"></a></dt>
<dd><p>Property that is an alias for the matrix representation of
the RS algorithm’s predicted user-item score matrix.  Returns
a matrix of dimension <span class="math notranslate nohighlight">\(|U|\times|I|\)</span>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.predicted_user_profiles">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predicted_user_profiles</span></span><a class="headerlink" href="#models.recommender.BaseRecommender.predicted_user_profiles" title="Permalink to this definition"></a></dt>
<dd><p>Property that is an alias for the matrix representation of
predicted user profiles. Returns a matrix of dimension
<span class="math notranslate nohighlight">\(|U|\times|\hat{A}|\)</span>, where <span class="math notranslate nohighlight">\(|\hat{A}|\)</span> is the
number of attributes that the algorithm uses to represent each
item and user.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.process_new_items">
<span class="sig-name descname"><span class="pre">process_new_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.process_new_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.process_new_items" title="Permalink to this definition"></a></dt>
<dd><p>Creates new item representations based on items that were just created.</p>
<p>Must be defined in the concrete class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.process_new_users">
<span class="sig-name descname"><span class="pre">process_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.process_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.process_new_users" title="Permalink to this definition"></a></dt>
<dd><p>Creates new user representations based on items that were just created.</p>
<p>Must be defined in the concrete class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.recommend">
<span class="sig-name descname"><span class="pre">recommend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_random_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeated_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.recommend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.recommend" title="Permalink to this definition"></a></dt>
<dd><p>Implements the recommendation process by combining recommendations and
new (random) items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>startup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, the system is in “startup”  (exploration) mode and
only presents the user with new randomly chosen items. This is
done to maximize exploration.</p></li>
<li><p><strong>random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 0</em>) – Number of per-user item recommendations that should be
randomly generated. Passing in <code class="docutils literal notranslate"><span class="pre">self.num_items_per_iter</span></code>
will result in all recommendations being randomly generated,
while passing in <code class="docutils literal notranslate"><span class="pre">0</span></code> will result in all recommendations
coming from predicted score.</p></li>
<li><p><strong>vary_random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then at each timestep, the # of items that are recommended
randomly is itself randomly generated between 0 and
<code class="docutils literal notranslate"><span class="pre">random_items_per_iter</span></code>, inclusive.</p></li>
<li><p><strong>repeated_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default True</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, repeated items are allowed in the system – that is,
users can interact with the same item more than once.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Items</strong> – New and recommended items in random order.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timesteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_between_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_random_items_per_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeated_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_new_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_tqdm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.run" title="Permalink to this definition"></a></dt>
<dd><p>Runs simulation for the given timesteps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 50</em>) – Number of timesteps for simulation.</p></li>
<li><p><strong>startup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it runs the simulation in startup mode (see
<a class="reference internal" href="#models.recommender.BaseRecommender.recommend" title="models.recommender.BaseRecommender.recommend"><code class="xref py py-func docutils literal notranslate"><span class="pre">recommend()</span></code></a> and <a class="reference internal" href="#models.recommender.BaseRecommender.startup_and_train" title="models.recommender.BaseRecommender.startup_and_train"><code class="xref py py-func docutils literal notranslate"><span class="pre">startup_and_train()</span></code></a>)</p></li>
<li><p><strong>train_between_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default True</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the model is retrained after each timestep with the
information gathered in the previous step.</p></li>
<li><p><strong>random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 0</em>) – Number of per-user item recommendations that should be
randomly generated. Passing in <code class="docutils literal notranslate"><span class="pre">self.num_items_per_iter</span></code> will
result in all recommendations being randomly generated, while passing
in <code class="docutils literal notranslate"><span class="pre">0</span></code> will result in all recommendations coming from predicted scores.</p></li>
<li><p><strong>vary_random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then at each timestep, the # of items that are recommended
randomly is itself randomly generated between 0 and
<code class="docutils literal notranslate"><span class="pre">random_items_per_iter</span></code>, inclusive.</p></li>
<li><p><strong>repeated_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default True</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, repeated items are allowed in the system – that is,
the system can recommend items to users that they’ve already previously
interacted with.</p></li>
<li><p><strong>no_new_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then no new items are created during these timesteps. This
can be helpful, say, during a “training” period where no new items should be
made.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.set_num_items_per_iter">
<span class="sig-name descname"><span class="pre">set_num_items_per_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_items_per_iter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.set_num_items_per_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.set_num_items_per_iter" title="Permalink to this definition"></a></dt>
<dd><p>Change the number of items that will be shown
to each user per iteration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.startup_and_train">
<span class="sig-name descname"><span class="pre">startup_and_train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timesteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_new_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.startup_and_train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.startup_and_train" title="Permalink to this definition"></a></dt>
<dd><p>Runs simulation in startup mode by calling <a class="reference internal" href="#models.recommender.BaseRecommender.run" title="models.recommender.BaseRecommender.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> with
startup=True. For more information about startup mode, see <a class="reference internal" href="#models.recommender.BaseRecommender.run" title="models.recommender.BaseRecommender.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>
and <a class="reference internal" href="#models.recommender.BaseRecommender.recommend" title="models.recommender.BaseRecommender.recommend"><code class="xref py py-func docutils literal notranslate"><span class="pre">recommend()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timesteps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default 50</em>) – Number of timesteps for simulation</p></li>
<li><p><strong>no_new_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then no new items are created during these timesteps.
This is only relevant when you have item
<a class="reference internal" href="components.html#components.creators.Creators" title="components.creators.Creators"><code class="xref py py-class docutils literal notranslate"><span class="pre">Creators</span></code></a>. This can be helpful, say, during
a “training” period where no new items should be made.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.recommender.BaseRecommender.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.recommender.BaseRecommender.train" title="Permalink to this definition"></a></dt>
<dd><p>Updates scores predicted by the system based on the internal state of the
recommender system. Under default initialization, it updates
<a class="reference internal" href="#models.recommender.BaseRecommender.predicted_scores" title="models.recommender.BaseRecommender.predicted_scores"><code class="xref py py-attr docutils literal notranslate"><span class="pre">predicted_scores</span></code></a> with a dot product of user and item attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>predicted_scores</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="components.html#components.users.PredictedScores" title="components.users.PredictedScores"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictedScores</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="components.html" class="btn btn-neutral float-left" title="Components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="metrics.html" class="btn btn-neutral float-right" title="Metrics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Eli Lucherini.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>