<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Components &mdash; T-RECS 0.1.0b documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Models" href="models.html" />
    <link rel="prev" title="Reference" href="reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> T-RECS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">T-RECS (Tool for RecSys Simulation)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-components.users">Users</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#components.users.ActualUserProfiles"><code class="docutils literal notranslate"><span class="pre">ActualUserProfiles</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#components.users.ActualUserScores"><code class="docutils literal notranslate"><span class="pre">ActualUserScores</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#components.users.DNUsers"><code class="docutils literal notranslate"><span class="pre">DNUsers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#components.users.PredictedScores"><code class="docutils literal notranslate"><span class="pre">PredictedScores</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#components.users.PredictedUserProfiles"><code class="docutils literal notranslate"><span class="pre">PredictedUserProfiles</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#components.users.Users"><code class="docutils literal notranslate"><span class="pre">Users</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-components.items">Items</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#components.items.Items"><code class="docutils literal notranslate"><span class="pre">Items</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#components.items.PredictedItems"><code class="docutils literal notranslate"><span class="pre">PredictedItems</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-components.creators">Creators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#components.creators.Creators"><code class="docutils literal notranslate"><span class="pre">Creators</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#binary-social-graph">Binary Social Graph</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#components.socialgraph.BinarySocialGraph"><code class="docutils literal notranslate"><span class="pre">BinarySocialGraph</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#base-components">Base Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#base.base_components.BaseComponent"><code class="docutils literal notranslate"><span class="pre">BaseComponent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#base.base_components.BaseObservable"><code class="docutils literal notranslate"><span class="pre">BaseObservable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#base.base_components.Component"><code class="docutils literal notranslate"><span class="pre">Component</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#base.base_components.SystemStateModule"><code class="docutils literal notranslate"><span class="pre">SystemStateModule</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#base.base_components.register_observables"><code class="docutils literal notranslate"><span class="pre">register_observables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#base.base_components.unregister_observables"><code class="docutils literal notranslate"><span class="pre">unregister_observables()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.html">Random Generators</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">T-RECS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="reference.html">Reference</a> &raquo;</li>
      <li>Components</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/components.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="components">
<h1>Components<a class="headerlink" href="#components" title="Permalink to this heading"></a></h1>
<p>This modules contains essential classes, such as Users and Items, as well as mixins that can be used to enhance the functionality of a model.</p>
<section id="module-components.users">
<span id="users"></span><h2>Users<a class="headerlink" href="#module-components.users" title="Permalink to this heading"></a></h2>
<p>Suite of classes related to users of the system, including predicted user-item
scores, predicted user profiles, actual user profiles, and a Users class (which
encapsulates some of these concepts).</p>
<dl class="py class">
<dt class="sig sig-object py" id="components.users.ActualUserProfiles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.users.</span></span><span class="sig-name descname"><span class="pre">ActualUserProfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_profiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserProfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserProfiles" title="Permalink to this definition"></a></dt>
<dd><p>True user profiles, unknown to the model. This class is a container
compatible with Numpy operations and it does not make assumptions on the
size of the representation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="components.users.ActualUserProfiles.append_new_users">
<span class="sig-name descname"><span class="pre">append_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserProfiles.append_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserProfiles.append_new_users" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of new users (represented as some kind of matrix) to the current
set of items. Assumes the new users have dimension <span class="math notranslate nohighlight">\(|U_{new}|\times|A|\)</span>,
where <span class="math notranslate nohighlight">\(U_{new}\)</span> indicates the number of new items to be appended.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.ActualUserProfiles.num_attrs">
<span class="sig-name descname"><span class="pre">num_attrs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserProfiles.num_attrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserProfiles.num_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of attributes in each user profile.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.ActualUserProfiles.num_users">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_users</span></span><a class="headerlink" href="#components.users.ActualUserProfiles.num_users" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of users.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="components.users.ActualUserScores">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.users.</span></span><span class="sig-name descname"><span class="pre">ActualUserScores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_profiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserScores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserScores" title="Permalink to this definition"></a></dt>
<dd><p>Matrix of true user-item scores, unknown to the model.</p>
<dl class="py method">
<dt class="sig sig-object py" id="components.users.ActualUserScores.append_item_scores">
<span class="sig-name descname"><span class="pre">append_item_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserScores.append_item_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserScores.append_item_scores" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of scores for new items to the current set of scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – Matrix of new scores with dimension <span class="math notranslate nohighlight">\(|U|\times|I_{new}|\)</span>,
where <span class="math notranslate nohighlight">\(I_{new}\)</span> indicates the number of new items whose scores
are being to be appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.ActualUserScores.append_user_scores">
<span class="sig-name descname"><span class="pre">append_user_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserScores.append_user_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserScores.append_user_scores" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of scores for new users to the current set of scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – Matrix of new scores with dimension <span class="math notranslate nohighlight">\(|U_{new}|\times|I|\)</span>,
where <span class="math notranslate nohighlight">\(U_{new}\)</span> indicates the number of new users whose
scores are being appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.ActualUserScores.get_item_scores">
<span class="sig-name descname"><span class="pre">get_item_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_shown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserScores.get_item_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserScores.get_item_scores" title="Permalink to this definition"></a></dt>
<dd><p>Return the user scores for the items shown, in the order specified by the
list of items shown to each user.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.ActualUserScores.num_items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_items</span></span><a class="headerlink" href="#components.users.ActualUserScores.num_items" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of items.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.ActualUserScores.num_users">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_users</span></span><a class="headerlink" href="#components.users.ActualUserScores.num_users" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of users.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.ActualUserScores.set_item_scores_to_value">
<span class="sig-name descname"><span class="pre">set_item_scores_to_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#ActualUserScores.set_item_scores_to_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.ActualUserScores.set_item_scores_to_value" title="Permalink to this definition"></a></dt>
<dd><p>Set scores for the specified user-item indices to the determined
value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_indices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – A matrix with <span class="math notranslate nohighlight">\(|U|\)</span> rows that specifies the indices of items
requested for each user.</p></li>
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Single value with which to replace scores.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="components.users.DNUsers">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.users.</span></span><span class="sig-name descname"><span class="pre">DNUsers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_user_profiles=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_user_scores=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interact_with_items=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_users=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drift=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_fn=&lt;function</span> <span class="pre">inner_product&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma=0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omega=0.2376</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta=0.9739</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#DNUsers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.DNUsers" title="Permalink to this definition"></a></dt>
<dd><p>Subclass of <a class="reference internal" href="#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a> in which user agents perform
choices in accordance with the Divisive Normalization model of choice
from <a class="reference external" href="https://pubsonline.informs.org/doi/pdf/10.1287/mnsc.2019.3536">Webb et al., 2020</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Parameter for the DN model (see docstring). Default value is fitted
parameter from Webb et al. (2020).</p></li>
<li><p><strong>omega</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Parameter for the DN model (see docstring). Default value is fitted
parameter from Webb et al. (2020).</p></li>
<li><p><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Parameter for the DN model (see docstring). Default value is fitted
parameter from Webb et al. (2020).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="components.users.DNUsers.calc_dn_utilities">
<span class="sig-name descname"><span class="pre">calc_dn_utilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_item_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#DNUsers.calc_dn_utilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.DNUsers.calc_dn_utilities" title="Permalink to this definition"></a></dt>
<dd><p>Scores items according to divisive normalization. Note that the parameters
/ matrix operations we perform here are directly taken from
<a class="reference external" href="https://github.com/UofT-Neuroecon-1/Normalization">https://github.com/UofT-Neuroecon-1/Normalization</a>. For more information,
see Webb, R., Glimcher, P. W., &amp; Louie, K. (2020). The Normalization of
Consumer Valuations: Context-Dependent Preferences from Neurobiological
Constraints. Management Science.</p>
<p>Note that the generalized DN model takes the following functional form:
<span class="math notranslate nohighlight">\(z_i(\textbf{v})=\frac{v_i}{\sigma+\omega(\sum_n v_n^{\beta})^
{\frac{1}{\beta}}}\)</span>, where <span class="math notranslate nohighlight">\(\sigma, \omega, \beta\)</span> are all
parameters that specify the exact choice model. After the original values
<span class="math notranslate nohighlight">\(\textbf{v}\)</span> are transformed this way, the choice is determined by
choosing the maximum value over <span class="math notranslate nohighlight">\(z(\textbf{v})+\mathbf{\eta}\)</span>,
which in our case is generated by a multivariate normal distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_item_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">array_like</span></code>) – The element at index <span class="math notranslate nohighlight">\(i,j\)</span> should represent user <span class="math notranslate nohighlight">\(i\)</span>’s
context-independent value for item <span class="math notranslate nohighlight">\(j\)</span>.
Dimension: <span class="math notranslate nohighlight">\(|U|\times|I|\)</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>utility</strong> – Normalized &amp; randomly perturbed utilities for different each
pair of users and items in the recommendation set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.DNUsers.get_user_feedback">
<span class="sig-name descname"><span class="pre">get_user_feedback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_shown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#DNUsers.get_user_feedback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.DNUsers.get_user_feedback" title="Permalink to this definition"></a></dt>
<dd><p>Generates user interactions at a given timestep, generally called by a
model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Parameters needed by the model’s train function.</p></li>
<li><p><strong>kwargs</strong> – Parameters needed by the model’s train function.</p></li>
<li><p><strong>items_shown</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – A <span class="math notranslate nohighlight">\(|U|\times\text{num_items_per_iter}\)</span> matrix with
recommendations and new items.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of interactions s.t. element <span class="math notranslate nohighlight">\(\text{interactions}_u(t)\)</span> represents the
index of the item selected by user <cite>u</cite> at time <cite>t</cite>. Shape: <span class="math notranslate nohighlight">\(|U|\times 1\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <code class="xref py py-attr docutils literal notranslate"><span class="pre">interact_with_items</span></code> is None and there is not <cite>item</cite>
    parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.DNUsers.normalize_values">
<span class="sig-name descname"><span class="pre">normalize_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_item_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#DNUsers.normalize_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.DNUsers.normalize_values" title="Permalink to this definition"></a></dt>
<dd><p>Calculating the expression for <span class="math notranslate nohighlight">\(z(\textbf{v})\)</span> in the equation
<span class="math notranslate nohighlight">\(z(\textbf{v})+\mathbf{\eta}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_item_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">array_like</span></code>) – The element at index <span class="math notranslate nohighlight">\(i,j\)</span> should represent user <span class="math notranslate nohighlight">\(i\)</span>’s
context-independent value for item <span class="math notranslate nohighlight">\(j\)</span>.
Dimension: <span class="math notranslate nohighlight">\(|U|\times|I|\)</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>normed_values</strong> – The transformed utility values (i.e., <span class="math notranslate nohighlight">\(z(\textbf{v})\)</span>).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.DNUsers.sample_from_error_dist">
<span class="sig-name descname"><span class="pre">sample_from_error_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_users</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#DNUsers.sample_from_error_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.DNUsers.sample_from_error_dist" title="Permalink to this definition"></a></dt>
<dd><p>The second stage of generating the divisive normalization utilities
<span class="math notranslate nohighlight">\(\text{interactions}_{u(t)}\)</span> is adding the error term
<span class="math notranslate nohighlight">\(\eta\)</span>. In this implementation, we sample from
a specific multivariate normal distribution used by Webb et al.
(see <a class="reference external" href="https://github.com/UofT-Neuroecon-1/Normalization">https://github.com/UofT-Neuroecon-1/Normalization</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_choices</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Number of items every user is choosing between.</p></li>
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Number of users in the system.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>eps</strong> – Randomly sampled errors from the error distribution. Should have
shape <span class="math notranslate nohighlight">\(|I|\times|U|\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="components.users.PredictedScores">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.users.</span></span><span class="sig-name descname"><span class="pre">PredictedScores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicted_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#PredictedScores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.PredictedScores" title="Permalink to this definition"></a></dt>
<dd><p>User scores about items generated by the model. This class is a container
compatible with Numpy operations and it does not make assumptions on the
size of the representation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="components.users.PredictedScores.append_item_scores">
<span class="sig-name descname"><span class="pre">append_item_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#PredictedScores.append_item_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.PredictedScores.append_item_scores" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of scores for new items to the current set of scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – Matrix of new scores with dimension <span class="math notranslate nohighlight">\(|U|\times|I_{new}|\)</span>,
where <span class="math notranslate nohighlight">\(I_{new}\)</span> indicates the number of new items whose scores
are being appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.PredictedScores.append_user_scores">
<span class="sig-name descname"><span class="pre">append_user_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#PredictedScores.append_user_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.PredictedScores.append_user_scores" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of scores for new users to the current set of scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – Matrix of new scores with dimension <span class="math notranslate nohighlight">\(|U_{new}|\times|I|\)</span>,
where <span class="math notranslate nohighlight">\(U_{new}\)</span> indicates the number of new users whose
scores are being appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.PredictedScores.filter_by_index">
<span class="sig-name descname"><span class="pre">filter_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#PredictedScores.filter_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.PredictedScores.filter_by_index" title="Permalink to this definition"></a></dt>
<dd><p>Return a subset of the predicted scores, filtered by the indices
of valid items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_indices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code>) – A matrix with <span class="math notranslate nohighlight">\(|U|\)</span> rows that specifies the indices of items
requested for each user.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="components.users.PredictedUserProfiles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.users.</span></span><span class="sig-name descname"><span class="pre">PredictedUserProfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_profiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#PredictedUserProfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.PredictedUserProfiles" title="Permalink to this definition"></a></dt>
<dd><p>User profiles as predicted by the model. This class is a container
compatible with Numpy operations and it does not make assumptions on the
size of the representation.</p>
<p>TODO: can this be made a subclass of Users?</p>
<dl class="py method">
<dt class="sig sig-object py" id="components.users.PredictedUserProfiles.append_new_users">
<span class="sig-name descname"><span class="pre">append_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#PredictedUserProfiles.append_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.PredictedUserProfiles.append_new_users" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of new users (represented as some kind of matrix) to the current
set of items. Assumes the new users have dimension <span class="math notranslate nohighlight">\(|U_{new}|\times|A|\)</span>,
where <span class="math notranslate nohighlight">\(U_{new}\)</span> indicates the number of new items to be appended.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.PredictedUserProfiles.num_attrs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_attrs</span></span><a class="headerlink" href="#components.users.PredictedUserProfiles.num_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of attributes in each user profile.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.PredictedUserProfiles.num_users">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_users</span></span><a class="headerlink" href="#components.users.PredictedUserProfiles.num_users" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of users.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="components.users.Users">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.users.</span></span><span class="sig-name descname"><span class="pre">Users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_user_profiles=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual_user_scores=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interact_with_items=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_users=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drift=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_fn=&lt;function</span> <span class="pre">inner_product&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attention_exp=0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat_interactions=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users" title="Permalink to this definition"></a></dt>
<dd><p>Class representing users in the system.</p>
<p>This class contains the real user preferences, which are unknown to the
system, and the behavior of users when interacting with items.</p>
<p>In general, users are represented with single <em>array_like</em> objects that
contain all the users’ preferences and characteristics. For example, real
user preferences can be represented by a Numpy ndarray of size
<cite>(number_of_users, number_of_items)</cite> where element <cite>[u,i]</cite> is the score
assigned by user u to item i.</p>
<p>Models determine the size constraints of objects representing users.
Requirements vary across models and, unless specified, this class does not
make assumptions on the real user components.</p>
<p>This class inherits from <a class="reference internal" href="#base.base_components.BaseComponent" title="base.base_components.BaseComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseComponent</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_user_profiles</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Representation of the real user profiles.</p></li>
<li><p><strong>actual_user_scores</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Representation of the real scores that users assign to items.</p></li>
<li><p><strong>interact_with_items</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function that specifies the behavior of users when interacting with
items. If None, users follow the behavior specified in
<a class="reference internal" href="#components.users.Users.get_user_feedback" title="components.users.Users.get_user_feedback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_user_feedback()</span></code></a>.</p></li>
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – The number of users in the system.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>, </em><em>optional</em>) – Size of the user representation. It expects a tuple. If None,
it is chosen randomly.</p></li>
<li><p><strong>drift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>default 0</em>) – If greater than 0, user profiles will update dynamically as they
interact with items, “drifting” towards the item attribute vectors
they interact with. <code class="docutils literal notranslate"><span class="pre">drift</span></code> is a parameter between 0 and 1 that
controls the degree of rotational drift. If <code class="docutils literal notranslate"><span class="pre">t=1</span></code>, then the user
profile vector takes on the exact same direction as the attribute
vector of the item they just interacted with. If 0, user profiles
are generated once at initialization and never change.</p></li>
<li><p><strong>attention_exp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>default 0</em>) – If this parameter is non-zero, then the order of the items
in the recommendation set affects the user’s choice, in that
the item chosen will be a function of its index in the recommendation
set and the underlying user-item score. (See Chaney et al. 2018
for a description of this mechanism.) Concretely, the item chosen will
be according to
<span class="math notranslate nohighlight">\(i_u(t)=\mathrm{argmax}_i( \mathrm{rank}_{u,t}(i)^{\alpha}
\cdot S_{u,i}(t) )\)</span>, where <span class="math notranslate nohighlight">\(\alpha\)</span> is the attention exponent
and <span class="math notranslate nohighlight">\(S_{u,i}(t)\)</span> is the underlying user-item score.</p></li>
<li><p><strong>score_fn</strong> (<em>callable</em>) – Function that is used to calculate each user’s scores for each
candidate item. The score function should take as input
<code class="docutils literal notranslate"><span class="pre">user_profiles</span></code> and <code class="docutils literal notranslate"><span class="pre">item_attributes</span></code>.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, enables verbose mode. Disabled by default.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Attributes</span> <span class="pre">from</span> <span class="pre">BaseComponent</span></span></dt>
<dd><p>Inherited by <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseComponent</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.users.Users.actual_user_profiles">
<span class="sig-name descname"><span class="pre">actual_user_profiles</span></span><a class="headerlink" href="#components.users.Users.actual_user_profiles" title="Permalink to this definition"></a></dt>
<dd><p>A matrix representing the <em>real</em> user profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.users.Users.actual_user_scores">
<span class="sig-name descname"><span class="pre">actual_user_scores</span></span><a class="headerlink" href="#components.users.Users.actual_user_scores" title="Permalink to this definition"></a></dt>
<dd><p>A <span class="math notranslate nohighlight">\(|U|\times|I|\)</span> matrix representing the <em>true</em> scores assigned by
each user to each item, where <span class="math notranslate nohighlight">\(|U|\)</span> is the number of users and
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. The element of this matrix
indexed by <span class="math notranslate nohighlight">\((u,i)\)</span> is the score assigned by user <span class="math notranslate nohighlight">\(u\)</span> to item
<span class="math notranslate nohighlight">\(i\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.users.Users.interact_with_items">
<span class="sig-name descname"><span class="pre">interact_with_items</span></span><a class="headerlink" href="#components.users.Users.interact_with_items" title="Permalink to this definition"></a></dt>
<dd><p>A function that defines user behaviors when interacting with items.
If None, users follow the behavior in <a class="reference internal" href="#components.users.Users.get_user_feedback" title="components.users.Users.get_user_feedback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_user_feedback()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.users.Users.user_vector">
<span class="sig-name descname"><span class="pre">user_vector</span></span><a class="headerlink" href="#components.users.Users.user_vector" title="Permalink to this definition"></a></dt>
<dd><p>A <span class="math notranslate nohighlight">\(|U|\)</span> array of user indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.users.Users.score_fn">
<span class="sig-name descname"><span class="pre">score_fn</span></span><a class="headerlink" href="#components.users.Users.score_fn" title="Permalink to this definition"></a></dt>
<dd><p>Function that is used to calculate each user’s scores for each
candidate item. The score function should take as input
user_profiles and item_attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.users.Users.repeat_interactions">
<span class="sig-name descname"><span class="pre">repeat_interactions</span></span><a class="headerlink" href="#components.users.Users.repeat_interactions" title="Permalink to this definition"></a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then users will interact with items regardless of whether
they have already interacted with them before. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, users
will not perform repeat interactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a> (optional, default: True)</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.10)"><strong>TypeError</strong></a> – If parameters are of the wrong type.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If both <code class="docutils literal notranslate"><span class="pre">actual_user_profiles</span></code> and <code class="docutils literal notranslate"><span class="pre">size</span></code> are None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.append_new_users">
<span class="sig-name descname"><span class="pre">append_new_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_users</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.append_new_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.append_new_users" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of new users (represented as some kind of matrix) to the current
set of items. Assumes the new users have dimension <span class="math notranslate nohighlight">\(|U_{new}|\times|A|\)</span>,
where <span class="math notranslate nohighlight">\(U_{new}\)</span> indicates the number of new items to be appended.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.attention_transform">
<span class="sig-name descname"><span class="pre">attention_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recommended_item_scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.attention_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.attention_transform" title="Permalink to this definition"></a></dt>
<dd><p>Transforms a matrix of user-item scores based on a user attention mechanism; for example,
because user attention is limited, items at the top of the recommendation list
may have a higher effective score than items at the end of the recommendation list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>recommended_item_scores</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – A <span class="math notranslate nohighlight">\(|U|\times\text{num_items_per_iter}\)</span> matrix with
pre-attention user-item scores.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>recommended_item_scores</strong> – A <span class="math notranslate nohighlight">\(|U|\times\text{num_items_per_iter}\)</span> matrix with
transformed user-item scores that take into account
the positions in the recommendation list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.compute_user_scores">
<span class="sig-name descname"><span class="pre">compute_user_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.compute_user_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.compute_user_scores" title="Permalink to this definition"></a></dt>
<dd><p>Computes and stores the actual scores that users assign to items
compatible with the system. Note that we expect the <code class="docutils literal notranslate"><span class="pre">self.score_fn</span></code>
attribute to be set to some callable function which takes item
attributes and user profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_attributes</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">array_like</span></code>) – A matrix representation of item attributes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.get_actual_user_scores">
<span class="sig-name descname"><span class="pre">get_actual_user_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.get_actual_user_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.get_actual_user_scores" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of actual user scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user</strong> (int or <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or list (optional, default: None)) – Specifies the user index (or indices) for which to return the
actual user scores. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the function returns the whole
matrix.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An array of actual user scores for each item.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>scores</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.get_user_feedback">
<span class="sig-name descname"><span class="pre">get_user_feedback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_shown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.get_user_feedback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.get_user_feedback" title="Permalink to this definition"></a></dt>
<dd><p>Generates user interactions at a given timestep, generally called by a
model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Parameters needed by the model’s train function.</p></li>
<li><p><strong>kwargs</strong> – Parameters needed by the model’s train function.</p></li>
<li><p><strong>items_shown</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – A <span class="math notranslate nohighlight">\(|U|\times\text{num_items_per_iter}\)</span> matrix with
recommendations and new items.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of interactions s.t. element <span class="math notranslate nohighlight">\(\text{interactions}_u(t)\)</span> represents the
index of the item selected by user <cite>u</cite> at time <cite>t</cite>. Shape: <span class="math notranslate nohighlight">\(|U|\times 1\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <a class="reference internal" href="#components.users.Users.interact_with_items" title="components.users.Users.interact_with_items"><code class="xref py py-attr docutils literal notranslate"><span class="pre">interact_with_items</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and there is not <code class="docutils literal notranslate"><span class="pre">item</span></code>
    parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.Users.num_attrs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_attrs</span></span><a class="headerlink" href="#components.users.Users.num_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of attributes of the items.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.users.Users.num_users">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_users</span></span><a class="headerlink" href="#components.users.Users.num_users" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of items.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.score_new_items">
<span class="sig-name descname"><span class="pre">score_new_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.score_new_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.score_new_items" title="Permalink to this definition"></a></dt>
<dd><p>Computes and stores the actual scores that users assign to any new
items that enter the system. Note that we expect the <code class="docutils literal notranslate"><span class="pre">self.score_fn</span></code>
attribute to be set to some callable function which takes item
attributes and user profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_items</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">array_like</span></code>) – A matrix representation of item attributes. Should be of dimension
<span class="math notranslate nohighlight">\(|A|\times|I|\)</span>, where <span class="math notranslate nohighlight">\(|I|\)</span> is the
number of items and <span class="math notranslate nohighlight">\(|A|\)</span> is the number of attributes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.set_score_function">
<span class="sig-name descname"><span class="pre">set_score_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score_fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.set_score_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.set_score_function" title="Permalink to this definition"></a></dt>
<dd><p>Users “score” items before “deciding” which item to interact with.
This function makes it possible to set an arbitrary function as the
score function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>score_fn</strong> (<em>callable</em>) – Function that is used to calculate each user’s scores for each
candidate item. Note that this function can be the same function
used by the recommender system to generate its predictions for
user-item scores. The score function should take as input
<code class="docutils literal notranslate"><span class="pre">user_profiles</span></code> and <code class="docutils literal notranslate"><span class="pre">item_attributes</span></code>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.10)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">score_fn</span></code> is not callable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.store_state">
<span class="sig-name descname"><span class="pre">store_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.store_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.store_state" title="Permalink to this definition"></a></dt>
<dd><p>Store the actual user scores in the state history</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.users.Users.update_profiles">
<span class="sig-name descname"><span class="pre">update_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/users.html#Users.update_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.users.Users.update_profiles" title="Permalink to this definition"></a></dt>
<dd><p>In the case of dynamic user profiles, we update the user’s actual
profiles with new values as each user profile “drifts” towards
items that they consume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interactions</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or list) – A matrix where row <code class="docutils literal notranslate"><span class="pre">i</span></code> corresponds to the attribute vector
that user <code class="docutils literal notranslate"><span class="pre">i</span></code> interacted with.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-components.items">
<span id="items"></span><h2>Items<a class="headerlink" href="#module-components.items" title="Permalink to this heading"></a></h2>
<p>Class definition for Items in our recommender systems - can represent anything
ranging from disease to consumer goods</p>
<dl class="py class">
<dt class="sig sig-object py" id="components.items.Items">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.items.</span></span><span class="sig-name descname"><span class="pre">Items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'items'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/items.html#Items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.items.Items" title="Permalink to this definition"></a></dt>
<dd><p>Items components in the system.</p>
<p>Items are the objects with which users interact with models and with each other.</p>
<p>It inherits from <a class="reference internal" href="#base.base_components.Component" title="base.base_components.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a> and it contains all the
attributes of that class. We support both numpy arrays or scipy sparse matrices
being used for the item representation.</p>
<p>The Items class does not specify any constraints on items. It is used
internally in <a class="reference internal" href="models.html#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_attributes</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Representation of items. It expects an array_like object. If None, the
representation is generated randomly using a binomial distribution (see
<a class="reference internal" href="#base.base_components.Component" title="base.base_components.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a> for details). At least one of
<cite>item_attributes</cite> or <cite>size</cite> must be supplied.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>, </em><em>optional</em>) – Size of the item representation. It expects a tuple. At least one of
<cite>item_attributes</cite> or <cite>size</cite> must be supplied.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, it enables verbose mode.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for underlying random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Attributes</span> <span class="pre">from</span> <span class="pre">Component</span></span></dt>
<dd><p>Inherited from <a class="reference internal" href="#base.base_components.Component" title="base.base_components.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.items.Items.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#components.items.Items.name" title="Permalink to this definition"></a></dt>
<dd><p>Name of the component</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.items.Items.append_new_items">
<span class="sig-name descname"><span class="pre">append_new_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/items.html#Items.append_new_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.items.Items.append_new_items" title="Permalink to this definition"></a></dt>
<dd><p>Appends a set of new items (represented as some kind of matrix) to the current
set of items. Assumes the new items have dimension <span class="math notranslate nohighlight">\(|A|\times|I_{new}|\)</span>,
where <span class="math notranslate nohighlight">\(I_{new}\)</span> indicates the number of new items to be appended.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.items.Items.num_attrs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_attrs</span></span><a class="headerlink" href="#components.items.Items.num_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of attributes of the items.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="components.items.Items.num_items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_items</span></span><a class="headerlink" href="#components.items.Items.num_items" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut getter method for the number of items.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="components.items.PredictedItems">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.items.</span></span><span class="sig-name descname"><span class="pre">PredictedItems</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/items.html#PredictedItems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.items.PredictedItems" title="Permalink to this definition"></a></dt>
<dd><p>This component represents the item attributes, as predicted by the
recommender system. The only difference between the two is the intended
purpose - all functionality is identical to the Items class
and therefore PredictedItems inherits from it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_attributes</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Representation of items. It expects an array_like object. If None, the
representation is generated randomly using a binomial distribution (see
<a class="reference internal" href="#base.base_components.Component" title="base.base_components.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a> for details). At least one of
<cite>item_attributes</cite> or <cite>size</cite> must be supplied.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>, </em><em>optional</em>) – Size of the item representation. It expects a tuple. At least one of
<cite>item_attributes</cite> or <cite>size</cite> must be supplied.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, it enables verbose mode.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for underlying random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Attributes</span> <span class="pre">from</span> <span class="pre">Item</span></span></dt>
<dd><p>Inherited by <a class="reference internal" href="#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.items.PredictedItems.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#components.items.PredictedItems.name" title="Permalink to this definition"></a></dt>
<dd><p>Name of the component</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-components.creators">
<span id="creators"></span><h2>Creators<a class="headerlink" href="#module-components.creators" title="Permalink to this heading"></a></h2>
<p>Suite of classes related to content creators, including predicted user-item
scores, predicted user profiles, actual creator profiles, and a Creators class (which
encapsulates some of these concepts)</p>
<dl class="py class">
<dt class="sig sig-object py" id="components.creators.Creators">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.creators.</span></span><span class="sig-name descname"><span class="pre">Creators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_creator_profiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creation_probability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/creators.html#Creators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.creators.Creators" title="Permalink to this definition"></a></dt>
<dd><p>Class representing content creators in the system.</p>
<p>Each content creator is represented with a single vector that governs
the kinds of content each creator produces. All creator profiles can be
represented with a <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of size
<code class="docutils literal notranslate"><span class="pre">(number_of_creators,</span> <span class="pre">number_of_attributes)</span></code>.</p>
<p>This class inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseComponent</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_creator_profiles</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Representation of the creator’s attribute profiles.</p></li>
<li><p><strong>creation_probability</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>default 0.5</em>) – The probability that any given creator produces a new item at a
timestep.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>, </em><em>optional</em>) – Size of the user representation. It expects a tuple. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
it is chosen randomly.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>default False</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, enables verbose mode.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Attributes</span> <span class="pre">from</span> <span class="pre">BaseComponent</span></span></dt>
<dd><p>Inherited by <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseComponent</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.creators.Creators.actual_creator_profiles">
<span class="sig-name descname"><span class="pre">actual_creator_profiles</span></span><a class="headerlink" href="#components.creators.Creators.actual_creator_profiles" title="Permalink to this definition"></a></dt>
<dd><p>A matrix representing the <em>real</em> similarity between each item and
attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="components.creators.Creators.create_new_items">
<span class="sig-name descname"><span class="pre">create_new_items</span></span><a class="headerlink" href="#components.creators.Creators.create_new_items" title="Permalink to this definition"></a></dt>
<dd><p>A function that defines user behaviors when interacting with items.
If None, users follow the behavior in <code class="xref py py-meth docutils literal notranslate"><span class="pre">generate_new_items()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.10)"><strong>TypeError</strong></a> – If parameters are of the wrong type.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If both actual_creator_profiles and size are None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="components.creators.Creators.generate_items">
<span class="sig-name descname"><span class="pre">generate_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/creators.html#Creators.generate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.creators.Creators.generate_items" title="Permalink to this definition"></a></dt>
<dd><p>Generates new items. Each creator probabilistically creates a new item.
Item attributes are generated using each creator’s profile
as a series of Bernoulli random variables. Therefore, item attributes
will be binarized. To change this behavior, simply write a custom
class that overwrites this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A numpy matrix of dimension <span class="math notranslate nohighlight">\(|A|\times|I_n|\)</span>, where
<span class="math notranslate nohighlight">\(|I_n|\)</span> represents the number of new items, and <span class="math notranslate nohighlight">\(|A|\)</span>
represents the number of attributes for each item.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.creators.Creators.store_state">
<span class="sig-name descname"><span class="pre">store_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/creators.html#Creators.store_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.creators.Creators.store_state" title="Permalink to this definition"></a></dt>
<dd><p>Store the actual creator profiles in the state history</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.creators.Creators.update_profiles">
<span class="sig-name descname"><span class="pre">update_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interactions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/creators.html#Creators.update_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.creators.Creators.update_profiles" title="Permalink to this definition"></a></dt>
<dd><p>This method can be implemented by child classes to update the
creator profiles over time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interactions</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or list) – A matrix where row <span class="math notranslate nohighlight">\(i\)</span> corresponds to the attribute vector
that user <span class="math notranslate nohighlight">\(i\)</span> interacted with.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="binary-social-graph">
<h2>Binary Social Graph<a class="headerlink" href="#binary-social-graph" title="Permalink to this heading"></a></h2>
<p>This mixin helps define the behavior of agents (such as models) that implement a social network.</p>
<span class="target" id="module-components.socialgraph"></span><p>A binary social graph represents relationships between users which
can be used in different types of recommender systems.</p>
<dl class="py class">
<dt class="sig sig-object py" id="components.socialgraph.BinarySocialGraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">components.socialgraph.</span></span><span class="sig-name descname"><span class="pre">BinarySocialGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/socialgraph.html#BinarySocialGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.socialgraph.BinarySocialGraph" title="Permalink to this definition"></a></dt>
<dd><p>A mixin for classes with a
<code class="xref py py-attr docutils literal notranslate"><span class="pre">users_hat</span></code> attribute
to gain the basic functionality of a binary social graph.</p>
<p>It assumes a network adjacency matrix of size <span class="math notranslate nohighlight">\(|U|\times |U|\)</span>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="components.socialgraph.BinarySocialGraph.add_friends">
<span class="sig-name descname"><span class="pre">add_friends</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user1_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user2_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/socialgraph.html#BinarySocialGraph.add_friends"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.socialgraph.BinarySocialGraph.add_friends" title="Permalink to this definition"></a></dt>
<dd><p>Method to add a user as <em>friends</em> – that is, to create a bidirectional
link that connects the two users.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user1_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of one user to establish the connection.</p></li>
<li><p><strong>user2_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the other user to establish the connection.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If either of the user indices does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.socialgraph.BinarySocialGraph.follow">
<span class="sig-name descname"><span class="pre">follow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">following_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/socialgraph.html#BinarySocialGraph.follow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.socialgraph.BinarySocialGraph.follow" title="Permalink to this definition"></a></dt>
<dd><p>Method to follow another user – that is, to create a unidirectional
link from one user to the other.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the user initiating the follow.</p></li>
<li><p><strong>following_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the user to be followed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If either of the user indices does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.socialgraph.BinarySocialGraph.remove_friends">
<span class="sig-name descname"><span class="pre">remove_friends</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user1_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user2_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/socialgraph.html#BinarySocialGraph.remove_friends"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.socialgraph.BinarySocialGraph.remove_friends" title="Permalink to this definition"></a></dt>
<dd><p>Method to remove a user from <em>friends</em> – that is, to remove a
bidirectional link that connects the two users.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user1_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of one user for which to remove the connection.</p></li>
<li><p><strong>user2_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the other user for which to remove the connection.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If either of the user indices does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="components.socialgraph.BinarySocialGraph.unfollow">
<span class="sig-name descname"><span class="pre">unfollow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">following_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/components/socialgraph.html#BinarySocialGraph.unfollow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#components.socialgraph.BinarySocialGraph.unfollow" title="Permalink to this definition"></a></dt>
<dd><p>Method to unfollow another user – that is, to delete the unidirectional
link that goes from one user to the other.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the user initiating the unfollow.</p></li>
<li><p><strong>following_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the user to be unfollowed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If either of the user indices does not exist.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="base-components">
<h2>Base Components<a class="headerlink" href="#base-components" title="Permalink to this heading"></a></h2>
<p>These are mainly abstract classes that are not supposed to be instantiated.</p>
<span class="target" id="module-base.base_components"></span><p>Base components are the building blocks of measuring and tracking
variables of interest in the simulation environment.</p>
<dl class="py class">
<dt class="sig sig-object py" id="base.base_components.BaseComponent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">base.base_components.</span></span><span class="sig-name descname"><span class="pre">BaseComponent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#BaseComponent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseComponent" title="Permalink to this definition"></a></dt>
<dd><p>Observable that stores a history of its state.</p>
<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.BaseComponent.get_component_state">
<span class="sig-name descname"><span class="pre">get_component_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#BaseComponent.get_component_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseComponent.get_component_state" title="Permalink to this definition"></a></dt>
<dd><p>Return the history of the component’s values as a dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.BaseComponent.get_timesteps">
<span class="sig-name descname"><span class="pre">get_timesteps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#BaseComponent.get_timesteps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseComponent.get_timesteps" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of timesteps in the state history</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.BaseComponent.observe">
<span class="sig-name descname"><span class="pre">observe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#BaseComponent.observe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseComponent.observe" title="Permalink to this definition"></a></dt>
<dd><p>Append the current value of the variable (by default a copy) to the
state history</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="base.base_components.BaseObservable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">base.base_components.</span></span><span class="sig-name descname"><span class="pre">BaseObservable</span></span><a class="reference internal" href="../_modules/base/base_components.html#BaseObservable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseObservable" title="Permalink to this definition"></a></dt>
<dd><p>Observable mixin for the observer design pattern.</p>
<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.BaseObservable.get_observable">
<span class="sig-name descname"><span class="pre">get_observable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#BaseObservable.get_observable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseObservable.get_observable" title="Permalink to this definition"></a></dt>
<dd><p>Returns the value of this observable as a dict</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.BaseObservable.observe">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#BaseObservable.observe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.BaseObservable.observe" title="Permalink to this definition"></a></dt>
<dd><p>Abstract method that should involve “recording” the observable</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="base.base_components.Component">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">base.base_components.</span></span><span class="sig-name descname"><span class="pre">Component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#Component"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.Component" title="Permalink to this definition"></a></dt>
<dd><p>Class for components that make up the system state.</p>
<dl class="py property">
<dt class="sig sig-object py" id="base.base_components.Component.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#base.base_components.Component.shape" title="Permalink to this definition"></a></dt>
<dd><p>Returns the dimensions of the Component.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>shape</strong> – Tuple of arbitrary dimension indicating the dimension of the Component’s
state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.Component.store_state">
<span class="sig-name descname"><span class="pre">store_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#Component.store_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.Component.store_state" title="Permalink to this definition"></a></dt>
<dd><p>Store a copy of the component’s value in the state history</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="base.base_components.Component.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#base.base_components.Component.value" title="Permalink to this definition"></a></dt>
<dd><p>Returns the current state of the Component (e.g., a numpy ndarray, a scipy
sparse matrix, or list.)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="base.base_components.SystemStateModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">base.base_components.</span></span><span class="sig-name descname"><span class="pre">SystemStateModule</span></span><a class="reference internal" href="../_modules/base/base_components.html#SystemStateModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.SystemStateModule" title="Permalink to this definition"></a></dt>
<dd><p>Mixin for observers of <a class="reference internal" href="#base.base_components.Component" title="base.base_components.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a> observables. Implements the
<a class="reference external" href="https://en.wikipedia.org/wiki/Observer_pattern">Observer design pattern</a>.</p>
<p>This mixin allows the system to monitor the system state. That is, at each
timestep, an element will be added to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">state_history</span></code> lists
of each component that the system is monitoring.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="base.base_components.SystemStateModule._system_state">
<span class="sig-name descname"><span class="pre">_system_state</span></span><a class="headerlink" href="#base.base_components.SystemStateModule._system_state" title="Permalink to this definition"></a></dt>
<dd><p>List of system state components that the system will monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.SystemStateModule.add_state_variable">
<span class="sig-name descname"><span class="pre">add_state_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#SystemStateModule.add_state_variable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.SystemStateModule.add_state_variable" title="Permalink to this definition"></a></dt>
<dd><p>Adds metrics to the <a class="reference internal" href="#base.base_components.SystemStateModule._system_state" title="base.base_components.SystemStateModule._system_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_system_state</span></code></a> list. This allows the system
to monitor these system state components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseComponent</span></code>) – Accepts a variable number of components that inherit from class
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseComponent</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="base.base_components.SystemStateModule.record_state">
<span class="sig-name descname"><span class="pre">record_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#SystemStateModule.record_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.SystemStateModule.record_state" title="Permalink to this definition"></a></dt>
<dd><p>Records a copy of the state of all components that in the
SystemStateModule.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="base.base_components.register_observables">
<span class="sig-prename descclassname"><span class="pre">base.base_components.</span></span><span class="sig-name descname"><span class="pre">register_observables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observable_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#register_observables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.register_observables" title="Permalink to this definition"></a></dt>
<dd><p>Add items in observables to observer list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="base.base_components.unregister_observables">
<span class="sig-prename descclassname"><span class="pre">base.base_components.</span></span><span class="sig-name descname"><span class="pre">unregister_observables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/base/base_components.html#unregister_observables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#base.base_components.unregister_observables" title="Permalink to this definition"></a></dt>
<dd><p>Remove items in observables from observer list</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="reference.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="models.html" class="btn btn-neutral float-right" title="Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Eli Lucherini.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>